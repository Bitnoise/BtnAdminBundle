{% from 'BtnAdminBundle:Macros:icon.html.twig' import gi %}
{% extends 'BtnAdminBundle:Crud:index.html.twig' %}

{% block list_table_head_columns %}
    <th>{% trans %}btn_admin.user.username{% endtrans %}</th>
    <th>{% trans %}btn_admin.user.email{% endtrans %}</th>
    <th>{% trans %}btn_admin.user.enabled{% endtrans %}</th>
    <th>{% trans %}btn_admin.user.last_login{% endtrans %}</th>
{% endblock %}

{% block list_table_body_columns %}
    <td>{{ entity.username }}</td>
    <td>{{ entity.email }}</td>
    <td>{{ entity.enabled ? gi('ok') : gi('remove') }}</td>
    <td>{{ entity.lastLogin ? entity.lastLogin|date(btn_admin.list.date_time_format) }}</td>
{% endblock %}

{% block list_table_row_action_post %}
    {% if is_granted('ROLE_ALLOWED_TO_SWITCH') %}
        {{ lnk.success('btn_admin.login_as_user', 'btn_admin_defaultcontrol_index', {'_switch_user': entity.username}) }}
    {% endif %}
{% endblock %}
