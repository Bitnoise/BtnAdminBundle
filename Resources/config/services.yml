services:

    btn_admin.provider.abstract_entity:
        class: %btn_admin.provider.abstract_entity.class%
        abstract: true
        calls:
            - [setEntityManager, ['@doctrine.orm.entity_manager']]

    btn_admin.event_listener.control_controller_listener:
        class: %btn_admin.event_listener.control_controller_listener.class%
        arguments:
            reader: @annotation_reader
        calls:
            - [setPerPage, ['%btn_admin.list.per_page%']]
            - [setFormHandler, ['@btn_admin.form.handler.entiy_form']]
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController }
